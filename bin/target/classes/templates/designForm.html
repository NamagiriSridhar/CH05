<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
		<head>
		<title>Taco Cloud</title>
		<link rel="stylesheet" th:href="@{/styles.css}" />
	</head>
	<body>
	 <form method="POST" th:action="@{/logout}" id="logoutForm">
      <input type="submit" value="Logout"/>
    </form>
		<form method="POST" th:action="@{/design}" th:object="${taco}" id="tacoForm">
			<h1>Design your taco!</h1>
			<img th:src="@{/images/cloud-taco.gif}" />
		    <div th:if="${#fields.hasErrors()}">
				<span class="validationError"> Please correct the problems
					below and resubmit. 
				</span>
			</div> 
			<span class="validationError"
		         		 th:if="${#fields.hasErrors('ingredients')}"
		          		 th:errors="*{ingredients}">
		            	Ingredient Error
		     </span> 
		     		
			<div class="grid">
				<div class="ingredient-group" id="wraps">
					<h3>Designate your wrap:</h3>
					<div th:each="ingredient : ${wrap}">
						<input type="checkbox" th:value="${ingredient.id}"  th:field="*{ingredients}" /> 
						<span th:text="${ingredient.name}">
							INGREDIENT
						</span>
						<br/>
					</div>
					<!-- <span th:text="${#fields.hasErrors('ingredients')}">
		     			Returns boolean
		     		</span>  
				 	-->
				 </div>
	
				<div class="ingredient-group" id="proteins">
					<h3>Pick your protein:</h3>
					<div th:each="ingredient : ${protein}">
						<input th:field="*{ingredients}" type="checkbox"
							th:value="${ingredient.id}" /> 
						<span th:text="${ingredient.name}">
							INGREDIENT
						</span>
						<br />
					</div>
				</div>
	
				<div class="ingredient-group" id="cheeses">
					<h3>Choose your cheese:</h3>
					<div th:each="ingredient : ${cheese}">
						<input th:field="*{ingredients}" type="checkbox"
							th:value="${ingredient.id}" /> 
						<span th:text="${ingredient.name}">
							INGREDIENT
						</span>
						<br />
					</div>
				</div>
	
				<div class="ingredient-group" id="veggies">
					<h3>Determine your veggies:</h3>
					<div th:each="ingredient : ${veggies}">
						<input th:field="*{ingredients}" type="checkbox"
							th:value="${ingredient.id}" /> 
						<span th:text="${ingredient.name}">
							INGREDIENT
						</span>
						<br />
					</div>
				</div>
	
				<div class="ingredient-group" id="sauces">
					<h3>Select your sauce:</h3>
					<div th:each="ingredient : ${sauce}">
						<input th:field="*{ingredients}" type="checkbox"
							th:value="${ingredient.id}" /> 
						<span th:text="${ingredient.name}">
							INGREDIENT
						</span>
						<br />
					</div>
				</div>
			</div>
     		<div>
				<h3>Name your taco creation:</h3>
				<label for="name">Name: </label>
      			<input type="text" th:field="*{name}"/>
				<span
					class="validationError" th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}">
					Name Error
				</span> 
				<br />
			</div>
			<input type="submit" value="Submit your taco"/>
		</form>
	</body>
</html>

<!-- <span class="validationError" th:if="${#fields.hasErrors('wrap')}"
				th:errors="*{wrap}">Ingredient Error</span> <span
				class="validationError" th:if="${#fields.hasErrors('protein')}"
				th:errors="*{protein}">Ingredient Error</span> <span
				class="validationError" th:if="${#fields.hasErrors('veggies')}"
				th:errors="*{veggies}">Ingredient Error</span> <span
				class="validationError" th:if="${#fields.hasErrors('cheese')}"
				th:errors="*{cheese}">Ingredient Error</span> <span
				class="validationError" th:if="${#fields.hasErrors('sauce')}"
				th:errors="*{sauce}">Ingredient Error</span> 
				They work here - not inside the form because of th:object="${design}" . If you remove it will work inside the form
-->
<!-- <span
					th:text="${#fields.hasErrors('name')}">XXX</span>  returns false
				<span
					class="validationError" th:if="${#fields.hasErrors('name')}"  
					th:errors="*{name}">Name Error</span> <br /> 
					
					https://www.baeldung.com/thymeleaf-in-spring-mvc
					-->

<!-- <span class="validationError"
	          th:if="${#fields.hasErrors('ingredients')}"
	          th:errors="*{ingredients}">Ingredient Error</span>  causes error-->

	          
	          
	          